<<<<<<< HEAD
@prefix rdf:    <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:   <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:    <http://www.w3.org/2001/XMLSchema#> .
@prefix schema: <https://schema.org/> .
@prefix rbox:   <http://example.org/rbox#> .

################### Classes ####################
#################################################################
# Balajis Ontology part
#################################################################

### Classes

rbox:Customer a rdfs:Class ;
    rdfs:subClassOf schema:Person ;
    rdfs:label "Customer"@en ;
    rdfs:comment "A customer subscribed to the recipe box service."@en .

rbox:Courier a rdfs:Class ;
    rdfs:subClassOf schema:Person ;
    rdfs:label "Courier"@en ;
    rdfs:comment "A delivery person responsible for delivering recipe boxes."@en .

rbox:SubscriptionPlan a rdfs:Class ;
    rdfs:label "Subscription Plan"@en ;
    rdfs:comment "A pricing plan selected by a customer, e.g., 3 recipes x 2 people."@en .

rbox:Order a rdfs:Class ;
    rdfs:subClassOf schema:Order ;
    rdfs:label "Order"@en ;
    rdfs:comment "An order placed by a customer for one or more recipes."@en .

rbox:OrderLine a rdfs:Class ;
    rdfs:subClassOf schema:OrderItem ;
    rdfs:label "Order Line"@en ;
    rdfs:comment "A line item in an order linking a selected recipe and quantity."@en .

rbox:Delivery a rdfs:Class ;
    rdfs:subClassOf schema:DeliveryEvent ;
    rdfs:label "Delivery"@en ;
    rdfs:comment "A delivery event for a customer order, executed by a courier."@en .

rbox:Review a rdfs:Class ;
    rdfs:subClassOf schema:Review ;
    rdfs:label "Review"@en ;
    rdfs:comment "A customer review of a recipe, menu or delivery."@en .


#################################################################
# Object Properties (Business + Connection)
#################################################################

### Customer â†’ SubscriptionPlan
rbox:hasSubscriptionPlan a rdf:Property ;
    rdfs:label "has subscription plan"@en ;
    rdfs:domain rbox:Customer ;
    rdfs:range rbox:SubscriptionPlan ;
    rdfs:comment "Links a customer to their selected subscription plan."@en .

### Order â†’ Customer
rbox:orderedBy a rdf:Property ;
    rdfs:label "ordered by"@en ;
    rdfs:subPropertyOf schema:customer ;
    rdfs:domain rbox:Order ;
    rdfs:range rbox:Customer ;
    rdfs:comment "Associates an order with the customer who placed it."@en .

### Order â†’ OrderLine
rbox:hasOrderLine a rdf:Property ;
    rdfs:label "has order line"@en ;
    rdfs:domain rbox:Order ;
    rdfs:range rbox:OrderLine ;
    rdfs:comment "Links an order to each of its line items."@en .

### ðŸ†• OrderLine â†’ Recipe (core link to recipe ontology)
rbox:orderRecipe a rdf:Property ;
    rdfs:label "order line recipe"@en ;
    rdfs:domain rbox:OrderLine ;
    rdfs:range rbox:Recipe ;
    rdfs:comment "The recipe that this order line refers to."@en .

### Delivery links
rbox:deliveryForOrder a rdf:Property ;
    rdfs:label "delivery for order"@en ;
    rdfs:domain rbox:Delivery ;
    rdfs:range rbox:Order ;
    rdfs:comment "Links a delivery event to the order being delivered."@en .

rbox:deliveredBy a rdf:Property ;
    rdfs:label "delivered by"@en ;
    rdfs:domain rbox:Delivery ;
    rdfs:range rbox:Courier ;
    rdfs:comment "Indicates which courier delivered the order."@en .

rbox:deliveredTo a rdf:Property ;
    rdfs:label "delivered to"@en ;
    rdfs:domain rbox:Delivery ;
    rdfs:range rbox:Customer ;
    rdfs:comment "Indicates which customer received the delivery."@en .

### Order â†’ Review
rbox:hasReview a rdf:Property ;
    rdfs:label "has review"@en ;
    rdfs:domain rbox:Order ;
    rdfs:range rbox:Review ;
    rdfs:comment "Links an order to its customer-written review."@en .

### Review â†’ Customer
rbox:reviewAuthor a rdf:Property ;
    rdfs:label "review author"@en ;
    rdfs:subPropertyOf schema:author ;
    rdfs:domain rbox:Review ;
    rdfs:range rbox:Customer ;
    rdfs:comment "Indicates the customer who authored the review."@en .


#################################################################
# ðŸ†• SubscriptionPlan Connections to Menu / Recipe
#################################################################

### Plan â†’ Menu
rbox:includesMenu a rdf:Property ;
    rdfs:label "includes menu"@en ;
    rdfs:domain rbox:SubscriptionPlan ;
    rdfs:range rbox:Menu ;
    rdfs:comment "Menus that are included in this subscription plan."@en .

### (Optional) Plan â†’ Recipe
rbox:includesRecipe a rdf:Property ;
    rdfs:label "includes recipe"@en ;
    rdfs:domain rbox:SubscriptionPlan ;
    rdfs:range rbox:Recipe ;
    rdfs:comment "Recipes that can be selected directly in this subscription plan."@en .


#################################################################
# Datatype Properties
#################################################################

### ðŸ†• OrderLine.quantity renamed to recipeTimes
rbox:recipeTimes a rdf:Property ;
    rdfs:label "recipe times"@en ;
    rdfs:domain rbox:OrderLine ;
    rdfs:range xsd:integer ;
    rdfs:comment "How many times this recipe is ordered in this order line."@en .

### Delivery window
rbox:deliveryStart a rdf:Property ;
    rdfs:label "delivery start date/time"@en ;
    rdfs:domain rbox:Delivery ;
    rdfs:range xsd:dateTime ;
    rdfs:comment "Start time of the delivery window."@en .

rbox:deliveryEnd a rdf:Property ;
    rdfs:label "delivery end date/time"@en ;
    rdfs:domain rbox:Delivery ;
    rdfs:range xsd:dateTime ;
    rdfs:comment "End time of the delivery window."@en .

### SubscriptionPlan metadata
rbox:planLabel a rdf:Property ;
    rdfs:label "subscription plan label"@en ;
    rdfs:domain rbox:SubscriptionPlan ;
    rdfs:range xsd:string ;
    rdfs:comment "Human-readable label of the subscription plan."@en .

rbox:planPrice a rdf:Property ;
    rdfs:label "subscription plan price"@en ;
    rdfs:domain rbox:SubscriptionPlan ;
    rdfs:range xsd:decimal ;
    rdfs:comment "Price of the subscription plan per week."@en .

### Popularity metrics
rbox:planOrderCount a rdf:Property ;
    rdfs:label "plan order count"@en ;
    rdfs:domain rbox:SubscriptionPlan ;
    rdfs:range xsd:integer ;
    rdfs:comment "Total number of orders for this subscription plan."@en .

rbox:planReviewCount a rdf:Property ;
    rdfs:label "plan review count"@en ;
    rdfs:domain rbox:SubscriptionPlan ;
    rdfs:range xsd:integer ;
    rdfs:comment "Total number of reviews written for this subscription plan."@en .

rbox:planAverageRating a rdf:Property ;
    rdfs:label "plan average rating"@en ;
    rdfs:domain rbox:SubscriptionPlan ;
    rdfs:range xsd:decimal ;
    rdfs:comment "Average rating for orders under this plan."@en .

rbox:planPopularityScore a rdf:Property ;
    rdfs:label "plan popularity score"@en ;
    rdfs:domain rbox:SubscriptionPlan ;
    rdfs:range xsd:decimal ;
    rdfs:comment "Combined score (#orders + rating) of this plan."@en .
